<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This wrapper function allows to simultaneously pool effect sizes using
different meta-analytic approaches.
"><title>Run different types of meta-analyses — runMetaAnalysis • metapsyTools</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Fira_Code-0.4.7/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Run different types of meta-analyses — runMetaAnalysis"><meta property="og:description" content="This wrapper function allows to simultaneously pool effect sizes using
different meta-analytic approaches.
"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script src="extra_script_header.js"></script></head><body><p>,<link rel="stylesheet" href="extra.css"></p>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">metapsyTools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.13</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/web/get-started.html">Get Started</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-tools">Tools</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-tools">
    <a class="dropdown-item" href="../reference/index.html">Function Reference</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/web/installation.html">Installation Guide</a>
    <a class="dropdown-item" href="../articles/web/look_inside.html">A Look Inside</a>
    <a class="dropdown-item" href="../data-validator.html">Data Validator</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/metapsy-project/metapsyTools/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Run different types of meta-analyses</h1>
      <small class="dont-index">Source: <a href="https://github.com/metapsy-project/metapsyTools/blob/HEAD/R/runMetaAnalysis.R" class="external-link"><code>R/runMetaAnalysis.R</code></a></small>
      <div class="d-none name"><code>runMetaAnalysis.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This wrapper function allows to simultaneously pool effect sizes using
different meta-analytic approaches.
<script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">runMetaAnalysis</span><span class="op">(</span><span class="va">data</span>,</span>
<span></span>
<span>                <span class="co"># Models to run</span></span>
<span>                which.run <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"overall"</span>, <span class="st">"combined"</span>,</span>
<span>                              <span class="st">"lowest.highest"</span>, <span class="st">"outliers"</span>,</span>
<span>                              <span class="st">"influence"</span>, <span class="st">"rob"</span>, <span class="st">"threelevel"</span>,</span>
<span>                              <span class="st">"threelevel.che"</span><span class="op">)</span>,</span>
<span>                              </span>
<span>                <span class="co"># Effect size measure</span></span>
<span>                es.measure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"g"</span>, <span class="st">"RR"</span>, <span class="st">"EER"</span>, <span class="st">"CER"</span><span class="op">)</span>,</span>
<span>                es.type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"precalculated"</span>, <span class="st">"raw"</span><span class="op">)</span>,</span>
<span>                es.var <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">es.measure</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="st">"RR"</span><span class="op">)</span>, </span>
<span>                                          <span class="st">".log_rr"</span>, <span class="st">".g"</span><span class="op">)</span>,</span>
<span>                se.var <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">es.measure</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="st">"RR"</span><span class="op">)</span>, </span>
<span>                                          <span class="st">".log_rr_se"</span>, <span class="st">".g_se"</span><span class="op">)</span>,</span>
<span>                es.binary.raw.vars <span class="op">=</span> </span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">".event_arm1"</span>, <span class="st">".event_arm2"</span>,</span>
<span>                    <span class="st">".totaln_arm1"</span>, <span class="st">".totaln_arm2"</span><span class="op">)</span>,</span>
<span>                    </span>
<span>                <span class="co"># Estimator of the heterogeneity variance</span></span>
<span>                method.tau <span class="op">=</span> <span class="st">"REML"</span>,</span>
<span>                method.tau.ci <span class="op">=</span> <span class="st">"Q-Profile"</span>,</span>
<span>                i2.ci.boot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                nsim.boot <span class="op">=</span> <span class="fl">5e3</span>,</span>
<span>                hakn <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                </span>
<span>                <span class="co"># Data specifications</span></span>
<span>                study.var <span class="op">=</span> <span class="st">"study"</span>,</span>
<span>                arm.var.1 <span class="op">=</span> <span class="st">"condition_arm1"</span>,</span>
<span>                arm.var.2 <span class="op">=</span> <span class="st">"condition_arm2"</span>,</span>
<span>                measure.var <span class="op">=</span> <span class="st">"instrument"</span>,</span>
<span>                low.rob.filter <span class="op">=</span> <span class="st">"rob &gt; 2"</span>,</span>
<span>                round.digits <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                rob.data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                </span>
<span>                <span class="co"># Model specifications</span></span>
<span>                which.combine <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"arms"</span>, <span class="st">"studies"</span><span class="op">)</span>,</span>
<span>                which.combine.var <span class="op">=</span> <span class="st">"multi_arm1"</span>,</span>
<span>                which.outliers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"overall"</span>, <span class="st">"combined"</span><span class="op">)</span>,</span>
<span>                which.influence <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"overall"</span>, <span class="st">"combined"</span><span class="op">)</span>,</span>
<span>                which.rob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"overall"</span>, <span class="st">"combined"</span><span class="op">)</span>,</span>
<span>                which.waap.wls <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"overall"</span>, <span class="st">"combined"</span><span class="op">)</span>,</span>
<span>                nnt.cer <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>                rho.within.study <span class="op">=</span> <span class="fl">0.6</span>,</span>
<span>                phi.within.study <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>                power.within.study <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>                w1.var <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">es.measure</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="st">"g"</span><span class="op">)</span>, </span>
<span>                                <span class="st">"n_arm1"</span>, <span class="st">"totaln_arm1"</span><span class="op">)</span>,</span>
<span>                w2.var <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">es.measure</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="st">"g"</span><span class="op">)</span>, </span>
<span>                                <span class="st">"n_arm2"</span>, <span class="st">"totaln_arm2"</span><span class="op">)</span>,</span>
<span>                time.var <span class="op">=</span> <span class="st">"time_weeks"</span>,</span>
<span>                vcov <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"simple"</span>, <span class="st">"complex"</span><span class="op">)</span>,</span>
<span>                near.pd <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                use.rve <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                </span>
<span>                <span class="co"># Output</span></span>
<span>                html <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                </span>
<span>                <span class="co"># Additional arguments</span></span>
<span>                <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p><code>data.frame</code>. Effect size data in the wide format, as
created by <code><a href="calculateEffectSizes.html">calculateEffectSizes</a></code>.</p></dd>


<dt>which.run</dt>
<dd><p><code>character</code>. Selection of models to be calculated.
See 'Details'.</p></dd>


<dt>es.measure</dt>
<dd><p><code>character</code>. Should meta-analyses be calculated using the
bias-corrected standardized mean difference (<code>"g"</code>; default),
risk ratios (<code>"RR"</code>), or logit-transformed experimental/control group event rates (<code>"EER"</code> or <code>"CER"</code>)?
Meta-analyses will only be conducted using comparisons
that contain non-missing values in the <code>es.var</code> and <code>se.var</code> columns.</p></dd>


<dt>es.type</dt>
<dd><p><code>character</code>. Should pre-calculated or raw event data (i.e.
the Mantel-Haenszel method) be used for meta-analyses of risk ratios?
Can be set to <code>"precalculated"</code> (default) or <code>"raw"</code>.</p></dd>


<dt>es.var</dt>
<dd><p><code>character</code>. Specifies the name of the variable containing the (pre-
calculated) effect size data in <code>data</code>. When <code>es.measure = "g"</code>, <code>"EER"</code>, or <code>"CER"</code>, this is set to
<code>.g</code> by default; <code>".log_rr"</code> is used when <code>es.measure = "RR"</code>. The default settings
correspond with the standard output of <code><a href="calculateEffectSizes.html">calculateEffectSizes()</a></code>.</p></dd>


<dt>se.var</dt>
<dd><p><code>character</code>. Specifies the name of the variable containing the (pre-calculated)
standard errors (square root of the variance) of the effect size metric defined
in <code>es.var</code>. If <code>es.measure = "g"</code>, this is automatically set to <code>.g_se</code>; if
<code>es.measure = "RR"</code>, <code>".log_rr_se"</code> is used. The default settings
correspond with the standard output of <code><a href="calculateEffectSizes.html">calculateEffectSizes()</a></code>.</p></dd>


<dt>es.binary.raw.vars</dt>
<dd><p><code>character</code>. A vector defining the column names in <code>data</code> in
which the (1) raw event counts in the experimental group, (2) raw event counts in the
control/reference group, (3) sample size in the experimental group, and (4) sample size
of the control/reference group are stored.
Defaults correspond with the standard output of <code><a href="calculateEffectSizes.html">calculateEffectSizes()</a></code>.</p></dd>


<dt>method.tau</dt>
<dd><p><code>character</code>. A character string indicating
which method is used to estimate the between-study variance (tau-squared)
and its square root (tau). Either <code>"REML"</code> (default), <code>"DL"</code>,
<code>"PM"</code>, <code>"ML"</code>, <code>"HS"</code>, <code>"SJ"</code>, <code>"HE"</code>, or <code>"EB"</code>, can be abbreviated (see
<code><a href="https://rdrr.io/pkg/meta/man/metagen.html" class="external-link">metagen</a></code>). Use <code>"FE"</code> to use a fixed-effect/"common effect" model.</p></dd>


<dt>method.tau.ci</dt>
<dd><p><code>character</code>. A character string indicating which method is used to estimate the
confidence interval of the between-study heterogeneity variance <em></em>\(\tau^2\). Either <code>"Q-Profile"</code> (default and recommended; <a href="http://www.wvbauer.com/lib/exe/fetch.php/articles:viechtbauer2007b.pdf" class="external-link">Viechtbauer, 2017</a>),
<code>"BJ"</code>, <code>"J"</code>, or <code>"PL"</code> can be abbreviated. See <code><a href="https://rdrr.io/pkg/meta/man/metagen.html" class="external-link">metagen</a></code> and <code><a href="https://wviechtb.github.io/metafor/reference/rma.uni.html" class="external-link">rma.uni</a></code> for details.</p></dd>


<dt>i2.ci.boot</dt>
<dd><p><code>logical</code>. Confidence intervals for <em></em>\(\tau^2\) as calculated by the Q-Profile method are not
directly applicable for three-level models, in which two heterogeneity variance components are estimated. By default,
this argument is therefore set to <code>FALSE</code>, and no confidence intervals around <em></em>\(\tau^2\) and <em></em>\(I^2\) are provided for the
<code>"threelevel"</code> and <code>"threelevel.che"</code> model.
If this argument is set to <code>TRUE</code>, parametric bootstrapping is used to calculate confidence intervals around the between- and
within-study heterogeneity estimates (<em></em>\(\tau\) and <em></em>\(I^2\)). Please note that this can take several minutes,
depending on the number of effect sizes. If <code><a href="correctPublicationBias.html">correctPublicationBias()</a></code> is used and <code>i2.ci.boot</code> is <code>TRUE</code>,
bootstrapping will also be used to calculate confidence intervals around the <em></em>\(G^2\) statistic
(<a href="https://academic.oup.com/biostatistics/article/12/1/122/391113" class="external-link">Rücker et al., 2011</a>)
used in the limit meta-analysis (note that <em></em>\(G^2\) is printed as <em></em>\(I^2\) in this package).</p></dd>


<dt>nsim.boot</dt>
<dd><p><code>numeric</code> Number of bootstrap samples to be drawn when <code>i2.ci.boot</code> is <code>TRUE</code>. Defaults to
5000.</p></dd>


<dt>hakn</dt>
<dd><p><code>logical</code>. Should the Knapp-Hartung adjustment for effect size significance tests be used? Default is <code>TRUE</code>.</p></dd>


<dt>study.var</dt>
<dd><p><code>character</code>. The name of the variable in <code>data</code> in which the study IDs are stored.</p></dd>


<dt>arm.var.1</dt>
<dd><p><code>character</code>. The name of the variable in <code>data</code> in which the condition (e.g. "guided iCBT")
of the <em>first</em> arm within a comparison are stored.</p></dd>


<dt>arm.var.2</dt>
<dd><p><code>character</code>. The name of the variable in <code>data</code> in which the condition (e.g. "wlc")
of the <em>second</em> arm within a comparison are stored.</p></dd>


<dt>measure.var</dt>
<dd><p><code>character</code>. The name of the variable in <code>data</code>
in which the instrument used for the comparison is stored.</p></dd>


<dt>low.rob.filter</dt>
<dd><p><code>character</code>. A filtering statement by which to
include studies for the "low RoB only" analysis. Please note that the name of
the variable must be included as a column in <code>data</code>.</p></dd>


<dt>round.digits</dt>
<dd><p><code>numeric</code>. Number of digits to round the (presented) results by. Default is <code>2</code>.</p></dd>


<dt>rob.data</dt>
<dd><p><code>list</code>. Optional list detailing how risk of bias data should be appended to the model (see Details).</p></dd>


<dt>which.combine</dt>
<dd><p><code>character</code>. Should multiple effect sizes within one study be pooled
on an <code>"arms"</code> (default) or <code>"studies"</code> level? When a study is a multi-arm trial, setting
<code>which.combine = "arms"</code> will aggregate the effect sizes for each trial arm individually before pooling;
the <code>which.combine.var</code> argument can be used to control which effects within a study should be aggregated.
When <code>which.combine = "studies"</code>, one overall aggregated effect is created for each study. This setting is preferable
from a statistical perspective, since it ensures that all pooled effects can be assumed to be independent.</p></dd>


<dt>which.combine.var</dt>
<dd><p><code>character</code>. Additional grouping variable within studies to be used for the <code>"combined"</code>
analysis when <code>which.combine = "arms"</code>. If the specified variable differs within one study (as defined
by <code>study.var</code>), effects will be aggregated separately for each unique value in <code>which.combine.var</code>.
Defaults to <code>"multi_arm1"</code>, the variable which encodes multi-arm intervention conditions in the
<a href="https://docs.metapsy.org/data-preparation/format/#standard-variables" class="external-link">Metapsy data standard</a>.</p></dd>


<dt>which.outliers</dt>
<dd><p><code>character</code>. Which model should be used to conduct outlier analyses? Must be
<code>"overall"</code> or <code>"combined"</code>, with <code>"overall"</code> being the default.</p></dd>


<dt>which.influence</dt>
<dd><p><code>character</code>. Which model should be used to conduct influence analyses? Must be
<code>"overall"</code> or <code>"combined"</code>, with <code>"overall"</code> being the default.</p></dd>


<dt>which.rob</dt>
<dd><p><code>character</code>. Which model should be used to conduct the "low risk of bias only" analyses? Must be
<code>"overall"</code> or <code>"combined"</code>, with <code>"overall"</code> being the default.</p></dd>


<dt>which.waap.wls</dt>
<dd><p><code>character</code>. Which model should be used to run the (non-default) WAAP-WLS model? Must be
<code>"overall"</code> or <code>"combined"</code>, with <code>"overall"</code> being the default.</p></dd>


<dt>nnt.cer</dt>
<dd><p><code>numeric</code>. Value between 0 and 1, indicating the assumed control group event rate to be used
for calculating NNTs via the Furukawa-Leucht method.</p></dd>


<dt>rho.within.study</dt>
<dd><p><code>numeric</code>. Value between 0 and 1, indicating the assumed correlation of effect sizes
within studies. This is relevant to combine effect sizes for the <code>"combined"</code> analysis type, and used to estimate
the variance-covariance matrices needed for the conditional and hierarchical effects three-level model. Default is <code>0.6</code>.</p></dd>


<dt>phi.within.study</dt>
<dd><p><code>numeric</code>. Value between 0 and 1, indicating the assumed one-week autocorrelation of effect sizes.
This is only used when <code>vcov="complex"</code> to approximate the variance-covariance matrices needed for the <code>"combined"</code> and
<code>"threelevel.che"</code> model. Default is 0.9. See "Details".</p></dd>


<dt>power.within.study</dt>
<dd><p><code>numeric</code>. Value between 0 and 1, indicating the minimum power (<em></em>\(1-\beta\)) required for a study to be
considered sufficiently powered. This value is used to identify adequately powered studies in the WAAP-WLS analysis. See "Details".</p></dd>


<dt>w1.var</dt>
<dd><p><code>character</code>. Name of the variable in <code>data</code> in which the sample
sizes of the first arm are stored. See "Details".</p></dd>


<dt>w2.var</dt>
<dd><p><code>character</code>. Name of the variable in <code>data</code> in which
the sample sizes of the second arm are stored. See "Details".</p></dd>


<dt>time.var</dt>
<dd><p><code>character</code>. Name of the variable in <code>data</code> in which the assessment time point is stored.
Should be expressed as weeks since randomization; other units (e.g. days, months) are also possible if <code>phi.within.study</code>
is specified accordingly. See "Details".</p></dd>


<dt>vcov</dt>
<dd><p><code>character</code>. For the <code>"combined"</code> and <code>"threelevel.che"</code> model, should variance-covariance matrices
(representing the dependency structure of the data) be approximated using a heterogeneous compound symmetry (<code>"simple"</code>; default)
or unstructured matrix structure (<code>"complex"</code>)? See "Details".</p></dd>


<dt>near.pd</dt>
<dd><p><code>logical</code>. If at least one of the study variance-covariance matrices constructed
when <code>vcov="complex"</code> is not positive definite/invertible, should the <code><a href="https://rdrr.io/pkg/Matrix/man/nearPD.html" class="external-link">nearPD</a></code> function
be used to compute the nearest positive definite matrix? Default is <code>FALSE</code>.</p></dd>


<dt>use.rve</dt>
<dd><p><code>logical</code>. Should robust variance estimation be used to calculate confidence intervals and tests of three-level models?
<code>TRUE</code> by default.</p></dd>


<dt>html</dt>
<dd><p><code>logical</code>. Should an HTML table be created for the results? Default is <code>TRUE</code>.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Returns an object of class <code>"runMetaAnalysis"</code>. This object includes, among other things,
a <code>data.frame</code> with the name <code>summary</code>, in which all results are summarized - including the
studies which were removed for some analysis steps. Other objects are the "raw" model objects returned
by all selected analysis types. This allows to conduct further operations on some models specifically (e.g.
run a meta-regression by plugging one of the model objects in <code>meta:::update.meta</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>runMetaAnalysis</code> function is a wrapper for several types of meta-analytic models
that are typically used. It allows to run all of these models in one step in order to generate results
that are somewhat closer to being "publication-ready".</p>
<p>By <em>default</em>, the following models are calculated:</p>
<ul><li><p><code>"overall"</code>. Runs a generic inverse-variance (random-effects) model. All included
effect sizes are treated as independent. When <code>es.measure = "RR"</code> and <code>es.type = "raw"</code>,
the Mantel-Haenszel method is used for pooling instead.</p></li>
<li><p><code>"combined"</code>. Pools all effect sizes within one study (defined by <code>study.var</code>) before
pooling. This ensures that all effect sizes are independent (i.e., unit-of-analysis error &amp;
double-counting is avoided). To combine the effects, one has to assume a correlation of effect sizes
within studies, empirical estimates of which are typically not available.</p></li>
<li><p><code>"lowest.highest"</code>. Runs a meta-analysis, but with only (i) the lowest and (ii) highest
effect size within each study included.</p></li>
<li><p><code>"outlier"</code>. Runs a meta-analysis without statistical outliers (i.e. effect sizes for which
the confidence interval does not overlap with the confidence intervall of the overall effect).</p></li>
<li><p><code>"influence"</code>. Runs a meta-analysis without influential cases (see <code><a href="https://wviechtb.github.io/metafor/reference/influence.rma.uni.html" class="external-link">influence.rma.uni</a></code> for
details).</p></li>
<li><p><code>"rob"</code>. Runs a meta-analysis with only low-RoB studies included.</p></li>
<li><p><code>"threelevel"</code>. Runs a multilevel (three-level) meta-analysis model, with effect sizes nested
in studies.</p></li>
<li><p><code>"threelevel.che"</code>. Runs a multilevel (three-level) meta-analysis model, with effect sizes nested
in studies. Variance-covariance matrices of each study with two or more effect sizes are estimated using
<code>rho.within.study</code> as the assumed overall within-study correlation. This imputation allows to run a "correlated and
hierarchical effects" (CHE) model, which is typically a good approximation for data sets with unknown and/or
complex dependence structures.</p></li>
</ul><p>The following <em>non-default</em> models can also be specified:</p>
<ul><li><p><code>"ccrem"</code>. Runs a multilevel (three-level) cross-classified random effects model (CCREM), with
<code>measure.var</code> modeled as a crossed random effect. Such models can be more appropriate when, across studies,
effect sizes are nested in various instruments, subscales, or outcomes; and if we want to estimate (and generalize over) the
variation due different instruments (or subscales, outcomes; Fernandez-Castilla et al.,
<a href="https://doi.org/10.3758/s13428-018-1063-2" class="external-link">2018</a>).</p></li>
<li><p><code>"ccrem.che"</code>. Runs a multilevel (three-level) cross-classified random effects model (CCREM), with
<code>measure.var</code> modeled as a crossed random effect. Additionally, variance-covariance matrices of each study with two or more effect sizes are approximated using
<code>rho.within.study</code> as the assumed overall within-study correlation, similar to the "correlated and
hierarchical effects" (CHE, <code>threelevel.che</code>) model.</p></li>
<li><p><code>"waap.wls"</code>. Runs a weighted average of adequately powered studies (WAAP) weighted least squares model (WLS).
If at least 3 effect sizes are available, effects are only computed among adequately powered studies, which are determined
using the pooled common-effect estimate as basis. If less than 3 studies show adequate power, a simple WLS model among
all included effect sizes is returned. This type of analysis employing multiplicative error models has been proposed to
obtain more robust effect estimates that guard against common biases introduced by selective publication and QRPs
(Stanley, Doucouliagos &amp; Ioannidis, <a href="https://onlinelibrary.wiley.com/doi/10.1002/sim.7228" class="external-link">2017</a>;
Stanley &amp; Doucouliagos, <a href="https://onlinelibrary.wiley.com/doi/10.1002/jrsm.1211" class="external-link">2017</a>;
Carter et al., <a href="https://journals.sagepub.com/doi/full/10.1177/2515245919847196" class="external-link">2019</a>)</p></li>
</ul><p>Internally, the <code>overall</code>, <code>combined</code>, <code>lowest.highest</code>, <code>outlier</code>, <code>influence</code> and <code>rob</code>
models are fitted by calling the <code><a href="https://rdrr.io/pkg/meta/man/metagen.html" class="external-link">meta::metagen()</a></code> or <code><a href="https://rdrr.io/pkg/meta/man/metabin.html" class="external-link">meta::metabin()</a></code> function,
respectively, in <strong>{meta}</strong> (Balduzzi, Rücker &amp; Schwarzer, <a href="https://pubmed.ncbi.nlm.nih.gov/31563865/" class="external-link">2019</a>).
The <code>threelevel</code>, <code>threelevel.che</code>, <code>ccrem</code>, and <code>ccrem.che</code> models are implemented using <code><a href="https://wviechtb.github.io/metafor/reference/rma.mv.html" class="external-link">metafor::rma.mv()</a></code>
in <strong>{metafor}</strong> (Viechtbauer, <a href="https://www.jstatsoft.org/article/view/v036i03" class="external-link">2005</a>).</p>
<p>Outlier selection is implemented using the <code><a href="http://dmetar.protectlab.org/reference/find.outliers.html" class="external-link">dmetar::find.outliers()</a></code> function,
and influence analyses using the <code><a href="http://dmetar.protectlab.org/reference/InfluenceAnalysis.html" class="external-link">dmetar::InfluenceAnalysis()</a></code> function. The latter function is a wrapper for
<code><a href="https://wviechtb.github.io/metafor/reference/influence.rma.uni.html" class="external-link">metafor::influence.rma.uni()</a></code>.</p>
<p><em></em>\(~\)</p><div class="section">
<h3 id="simple-or-complex-variance-covariance-approximation">Simple or complex variance-covariance approximation<a class="anchor" aria-label="anchor" href="#simple-or-complex-variance-covariance-approximation"></a></h3>


<p>The <code>vcov</code> argument controls if the effect size dependencies within the data
should be approximated using a <code>"simple"</code> (default) or more <code>"complex"</code> (but potentially more accurate)
method. This argument is only relevant for the <code>"combined"</code>, <code>"threelevel.che"</code>, and <code>"ccrem.che"</code> models. The default
"simple" method constructs variance-covariance matrices <em></em>\(\Sigma_k\) for each study using a
constant sampling correlation <em></em>\(\rho\) (defined by <code>rho.within.study</code>), which is identical across all studies, outcomes, and time points.
This simplifying assumption is part of the formulation of the CHE model originally provided by
Pustejovsky and Tipton (<a href="https://link.springer.com/article/10.1007/s11121-021-01246-3" class="external-link">2022</a>).</p>
<p>Naturally, employing a common value of <em></em>\(\rho\) across all studies may not be reasonable
in some analyses, and other information may be available to better approximate the effect size dependencies
in the collected data. Setting <code>vcov</code> to <code>"complex"</code> allows to assume that correlations between effect
sizes may differ conditional on the type of dependency. This means that the variance-covariance matrix <em></em>\(\Sigma_k\) of some study <em></em>\(k\) is
approximated by an unstructured matrix with varying <em></em>\(\rho_{ij}\) (instead of a
heterogeneous compound symmetry matrix with fixed <em></em>\(\rho\), as is used when <code>vcov="simple"</code>).</p>
<p>\[\begin{array}{ccc}\texttt{vcov="simple"} &amp; \texttt{vcov="complex"} &amp; \\ \Sigma_k = \begin{bmatrix} \sigma^2_1 \\ \rho \sigma_2 \sigma_1 &amp; \sigma^2_2 &amp; &amp; \\ \rho \sigma_3 \sigma_1 &amp; \rho \sigma_3 \sigma_2 &amp; \sigma^2_3 &amp; \\ \rho \sigma_4 \sigma_1 &amp; \rho \sigma_4 \sigma_2 &amp; \rho \sigma_4 \sigma_3 &amp; \sigma^2_4 \end{bmatrix} &amp; \Sigma_k = \begin{bmatrix} \sigma^2_1 &amp; &amp; &amp; \\ \rho_{21} \sigma_2 \sigma_1 &amp; \sigma^2_2 &amp; &amp; \\ \rho_{31} \sigma_3 \sigma_1 &amp; \rho_{32} \sigma_3 \sigma_2 &amp; \sigma^2_3 &amp; \\ \rho_{41} \sigma_4 \sigma_1 &amp; \rho_{42} \sigma_4 \sigma_2 &amp; \rho_{43} \sigma_4 \sigma_3 &amp; \sigma^2_4 \end{bmatrix} &amp;  \end{array}\]</p>
<p>For example, setting <code>vcov = "complex"</code> allows to additionally incorporate assumed correlations specific to multiple testing over time
(e.g. correlations between effects at post-test and long-term follow-up). The value provided in
<code>phi.within.study</code> represents the (auto-)correlation coefficient <em></em>\(\phi\), which serves
as a rough estimate of the re-test correlation after 1 week. When a vector of follow-up lengths
is provided in <code>time.var</code>, this allows to model the gradual decrease in correlation between measurements
over time. Furthermore, it is possible to calculate a correlation coefficient <em></em>\(\rho_w\) for
multi-arm trials, which is directly proportional to the size of each individual trial arm. When all trial
arms have the same size, meaning that each arm's weight <em></em>\(w\) is identical,
<em></em>\(\rho_w\) is known to be 0.5. Multiarm weights <em></em>\(w\) (and thus
<em></em>\(\rho_w\)) can be derived if the <code>w1.var</code> and <code>w2.var</code> variables,
containing the sample size of each study arm, are provided.</p>
<p>Using the complex approximation method increases the risk that at least one studies' <em></em>\(\Sigma_k\) matrix
is not positive definite. In this case, the function automatically switches back to the
constant sampling correlation approximation.</p>
<p><em></em>\(~\)</p>
</div>

<div class="section">
<h3 id="replacement-functions">Replacement functions<a class="anchor" aria-label="anchor" href="#replacement-functions"></a></h3>


<p>Once a model has been fitted using <code>runMetaAnalysis</code>, <strong>replacement functions</strong>
are defined for each function argument. This allows to quickly tweak one or
more analysis settings, which are implemented once the <code>rerun</code> function is called.
Say that we saved the results of <code>runMetaAnalysis</code> in an object <code>m</code>. If, for example, we want
to check the results using a different estimator of <em></em>\(\tau^2\), leaving
all other settings the same, we could run e.g. <code>method.tau(m) &lt;- "PM"</code>, followed by
<code>rerun(m)</code>. This would provide results using the Paule-Mandel estimator. A list of all available
setting replacement functions is provided <a href="https://tools.metapsy.org/reference/replacement-functions" class="external-link">here</a>.</p>
<p><em></em>\(~\)</p>
</div>

<div class="section">
<h3 id="risk-of-bias-data">Risk of Bias data<a class="anchor" aria-label="anchor" href="#risk-of-bias-data"></a></h3>


<p>Using the <code>rob.data</code> argument, it is possible to specify which variables in the data set provided in
<code>data</code> contain Risk of Bias (ROB) assessment information. If specified, this allows to generate
forest plots with added ROB information when using <code><a href="plot.runMetaAnalysis.html">plot.runMetaAnalysis()</a></code>. ROB information added this
way can also be used to create ROB summary plots using <code><a href="createRobSummary.html">createRobSummary()</a></code>.</p>
<p>The object provided to <code>rob.data</code> must be a <code>list</code> element with these elements:</p><ul><li><p><code>domains</code>: A vector of characters, specifying variables that contain ratings for different ROB domains (e.g. allocation concealment, missing data handling, ...).</p></li>
<li><p><code>domain.names</code> (<em>Optional</em>): A vector of characters with the same length as <code>domains</code>, which provides long-format labels for each included domain.</p></li>
<li><p><code>overall.rob</code> (<em>Optional</em>): A single character specifying the variable in <code>data</code> that contains the overall ROB rating.</p></li>
<li><p><code>categories</code>: A vector of characters, specifying how ROB ratings were coded in the selected variables (e.g., <code>"low</code>, <code>"high"</code>, <code>"unclear"</code>).</p></li>
<li><p><code>symbols</code> (<em>Optional</em>): A vector of single-letter characters (or symbols) that should be used when plotting ROB rating in the forest plot.</p></li>
<li><p><code>colors</code> (<em>Optional</em>): A vector of characters of the same length as <code>categories</code>, specifying colors for each rating code.</p></li>
</ul><p>For concrete usage examples with this functionality, see "Examples".</p>
<p>For more details see the <a href="https://tools.metapsy.org/articles/metapsytools" class="external-link">Get Started</a> vignette.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="plot.runMetaAnalysis.html">plot.runMetaAnalysis()</a></code>, <code><a href="summary.runMetaAnalysis.html">summary.runMetaAnalysis()</a></code>,
<code><a href="eb.runMetaAnalysis.html">eb.runMetaAnalysis()</a></code>, <code><a href="profile.runMetaAnalysis.html">profile.runMetaAnalysis()</a></code>,
<code><a href="subgroupAnalysis.html">subgroupAnalysis</a></code>. <code><a href="correctPublicationBias.html">correctPublicationBias</a></code>,
<code><a href="metaRegression.html">metaRegression</a></code>, <code><a href="metaRegression.html">metaRegression</a></code>,
<code><a href="calculateEffectSizes.html">calculateEffectSizes</a></code>,</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Mathias Harrer <a href="mailto:mathias.h.harrer@gmail.com">mathias.h.harrer@gmail.com</a>,
Paula Kuper <a href="mailto:paula.r.kuper@gmail.com">paula.r.kuper@gmail.com</a>, Pim Cuijpers <a href="mailto:p.cuijpers@vu.nl">p.cuijpers@vu.nl</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">## Not run: </span></span></span>
<span class="r-in"><span><span class="fu"><a href="Replacement-functions.html">data</a></span><span class="op">(</span><span class="st">"depressionPsyCtr"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/guido-s/meta/" class="external-link">meta</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">depressionPsyCtr</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="checkDataFormat.html">checkDataFormat</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="checkConflicts.html">checkConflicts</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="calculateEffectSizes.html">calculateEffectSizes</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="filterPoolingData.html">filterPoolingData</a></span><span class="op">(</span><span class="va">condition_arm2</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> </span></span>
<span class="r-in"><span>                      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"wl"</span>, <span class="st">"other ctr"</span><span class="op">)</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">data</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run the meta-analyses</span></span></span>
<span class="r-in"><span><span class="fu">runMetaAnalysis</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">res</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check if variance components of "threelevel.che" model</span></span></span>
<span class="r-in"><span><span class="co"># are identifiable</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/profile.html" class="external-link">profile</a></span><span class="op">(</span><span class="va">res</span>, <span class="st">"threelevel.che"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run non-default models</span></span></span>
<span class="r-in"><span><span class="co"># - Cross-classified random effects model</span></span></span>
<span class="r-in"><span><span class="fu">runMetaAnalysis</span><span class="op">(</span><span class="va">data</span>, </span></span>
<span class="r-in"><span>                which.run <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ccrem"</span>, <span class="st">"ccrem.che"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                vcov <span class="op">=</span> <span class="st">"complex"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># - Weighted average of adequately powered studies (WAAP-WLS)</span></span></span>
<span class="r-in"><span><span class="fu">runMetaAnalysis</span><span class="op">(</span><span class="va">data</span>, which.run <span class="op">=</span> <span class="st">"waap.wls"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">runMetaAnalysis</span><span class="op">(</span><span class="va">data</span>, which.run <span class="op">=</span> <span class="st">"waap.wls"</span>, power.within.study <span class="op">=</span> <span class="fl">.9</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># - Meta-analysis using raw response rate data</span></span></span>
<span class="r-in"><span><span class="fu">runMetaAnalysis</span><span class="op">(</span><span class="va">data</span>, </span></span>
<span class="r-in"><span>                es.measure <span class="op">=</span> <span class="st">"RR"</span>,</span></span>
<span class="r-in"><span>                es.type <span class="op">=</span> <span class="st">"raw"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># - Estimate intervention response rates, then pool </span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="calculateEffectSizes.html">calculateEffectSizes</a></span><span class="op">(</span>impute.response <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu">runMetaAnalysis</span><span class="op">(</span>which.run <span class="op">=</span> <span class="st">"combined"</span>, </span></span>
<span class="r-in"><span>                  es.measure <span class="op">=</span> <span class="st">"EER"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use replacement function to show results for</span></span></span>
<span class="r-in"><span><span class="co"># differing settings</span></span></span>
<span class="r-in"><span><span class="fu"><a href="Replacement-functions.html">method.tau</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"PM"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="Replacement-functions.html">hakn</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="fu"><a href="Replacement-functions.html">rerun</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show forest plot (by default, "overall" is used)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Comapare effects across models</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res</span>, <span class="st">"summary"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show forest plot of specific analysis</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res</span>, <span class="st">"outliers"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res</span>, <span class="st">"threelevel"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res</span>, <span class="st">"baujat"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res</span>, <span class="st">"influence"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show forest plot with empirical Bayes estimates</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res</span>, <span class="st">"combined"</span>, eb <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Extract specific model and do further calculations</span></span></span>
<span class="r-in"><span><span class="co"># (e.g. meta-regression on 'year')</span></span></span>
<span class="r-in"><span><span class="fu"><a href="metaRegression.html">metaRegression</a></span><span class="op">(</span><span class="va">res</span><span class="op">$</span><span class="va">model.overall</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/scale.html" class="external-link">scale</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Conduct a subgroup analysis</span></span></span>
<span class="r-in"><span><span class="fu"><a href="subgroupAnalysis.html">subgroupAnalysis</a></span><span class="op">(</span><span class="va">res</span>, <span class="va">country</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Correct for publication bias/small-study effects</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="fu"><a href="correctPublicationBias.html">correctPublicationBias</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">res.pb</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res.pb</span>, <span class="st">"trimfill"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res.pb</span>, <span class="st">"limitmeta"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res.pb</span>, <span class="st">"selection"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For the combined analysis, set which.combine to</span></span></span>
<span class="r-in"><span><span class="co"># "studies" here, so that all effects in a study are aggregated</span></span></span>
<span class="r-in"><span><span class="co"># first before pooling</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu">runMetaAnalysis</span><span class="op">(</span>which.combine <span class="op">=</span> <span class="st">"studies"</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="st">"combined"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Define ROB data to be added to the models</span></span></span>
<span class="r-in"><span><span class="va">robData</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="co"># Names of ROB variables included in 'data'</span></span></span>
<span class="r-in"><span>  domains <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sg"</span>, <span class="st">"ac"</span>, <span class="st">"ba"</span>, <span class="st">"itt"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Long-format labels for each ROB domain</span></span></span>
<span class="r-in"><span>  domain.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sequence Generation"</span>, </span></span>
<span class="r-in"><span>                   <span class="st">"Allocation Concealment"</span>, </span></span>
<span class="r-in"><span>                   <span class="st">"Blinding of Assessors"</span>, </span></span>
<span class="r-in"><span>                   <span class="st">"ITT Analyses"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Codes used to rate the risk of bias (sr=self-report)</span></span></span>
<span class="r-in"><span>  categories <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0"</span>, <span class="st">"1"</span>, <span class="st">"sr"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Symbols that should be used for these codes in forest plots</span></span></span>
<span class="r-in"><span>  symbols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"-"</span>, <span class="st">"+"</span>, <span class="st">"s"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Colors to be used in forest plots for each of these codes</span></span></span>
<span class="r-in"><span>  colors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"yellow"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Re-run model with appended ROB data</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">runMetaAnalysis</span><span class="op">(</span><span class="va">data</span>, rob.data <span class="op">=</span> <span class="va">robData</span><span class="op">)</span> </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate forest plot with ROB data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res</span>, <span class="st">"combined"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a summary plot</span></span></span>
<span class="r-in"><span><span class="fu"><a href="createRobSummary.html">createRobSummary</a></span><span class="op">(</span><span class="va">res</span>, </span></span>
<span class="r-in"><span>                 name.low <span class="op">=</span> <span class="st">"1"</span>, </span></span>
<span class="r-in"><span>                 name.high <span class="op">=</span> <span class="st">"0"</span>, </span></span>
<span class="r-in"><span>                 name.unclear <span class="op">=</span> <span class="st">"sr"</span>,</span></span>
<span class="r-in"><span>                 which.run <span class="op">=</span> <span class="st">"combined"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Mathias Harrer, Paula Kuper, Antonia Sprenger, Pim Cuijpers.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
</div>

    </footer></div>

  

  <script src="extra_script.js"></script></body></html>

